mutation deleteMailingList($id: Int!) {
    deleteMailingList(id: $id) {
        name
    }
}

query mailingLists {
    mailingLists {
        ...lists
    }
}

query mailingListsByUser($username: String!) {
    userByName(username: $username) {
        lists {
            ...lists
        }
    }
}

fragment lists on MailingListCursor {
    results {
        name
        description
    }
}

query mailingListIDByName($name: String!) {
    mailingListByName(name: $name) {
        id
    }
}

query mailingListIDByOwner($ownerName: String!, $listName: String!) {
    mailingListByOwner(ownerName: $ownerName, listName: $listName) {
        id
    }
}

query patches($name: String!) {
    mailingListByName(name: $name) {
        ...patchsets
    }
}

query patchesByOwner($ownerName: String!, $listName: String!) {
    mailingListByOwner(ownerName: $ownerName, listName: $listName) {
        ...patchsets
    }
}

fragment patchsets on MailingList {
    patches {
        results {
            id
            subject
            status
            created
            version
            prefix
            submitter {
                canonicalName
            }
        }
    }
}

query patchsetById($id: Int!) {
    patchset(id: $id) {
        patches {
            results {
                date
                body
                subject
                header(want: "From")
            }
        }
    }
}

mutation mailingListSubscribe($listID: Int!) {
    mailingListSubscribe(listID: $listID) {
        list {
            name
            owner {
                canonicalName
            }
        }
    }
}

mutation mailingListUnsubscribe($listID: Int!) {
    mailingListUnsubscribe(listID: $listID) {
        list {
            name
            owner {
                canonicalName
            }
        }
    }
}

mutation updatePatchset($id: Int!, $status: PatchsetStatus!) {
    updatePatchset(id: $id, status: $status) {
        submitter {
            canonicalName
        }
        subject
    }
}
